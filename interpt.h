#include "stdafx.h"
#include <stdlib.h>
#include <stdio.h>
#include <math.h>
#include "interpolation.h"

using namespace alglib;

int interpt(int xa, int xb)
{
real_1d_array x = "[-7.0, -6.0, -5.0, -4.0, -3.0, -2.0, -1.0, 0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0]";
real_1d_array y = "[-7.0, -6.0, -5.0, -4.0, -3.0, -2.0, -1.0, 0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0]";
real_1d_array f = "[417,590,999,1443,3396,5560,32943,44891,31929,4571,2794,962,589,855,117,509,955,1685,2196,5051,8843,47868,75263,46962,8564,3166,1083,547,171,86,2258,3925,7120,9658,15398,27158,121859,192365,121165,21960,10651,3554,2181,383,278,4025,6243,12348,14858,26146,42796,185726,300505,176437,32193,13357,4543,1943,644,373,13303,21676,38258,48381,77068,106197,380507,561693,358054,69198,34259,7998,5241,1206,530,32976,61362,97329,120103,185569,257381,688557,994448,586298,128894,45286,11767,6101,1236,1586,166977,348124,538721,663109,971439,1191950,3896313,5646072					,3319360,312470,105933,21993,10480,3060,1292,365799,784898,1202518,1542006,2150661,2625806,7193805,10283024,5648393,416948,100236,23092,8925,2609,1443,156342,344895,538668,680052,964794					,1225600,3829234,5909514,3287143,324999,104132,22087,11156,2680,1242,30339,59926,95648,119856,186796,249364,688676,978020,574739,120078,44061,11860,5204,1815,693,11032,20592,36691,44283					,72554,108409,376717,558414,355245,68264,31875,9292,5446,997,848,4321,5701,10348,13361,23037,37395,182817,292129,167065,29686,12250,4985,2298,937,491,1939,3401,5907,7613,13935,26020,120727					,187258,121572,20104,11663,2868,6670,307,221,793,1038,1305,2662,4222,9840,48443,78026,42708,7002,3059,1047,499,118,111,718,318,1412,1451,3222,6138,32644,51794,30997,5443,2943,698,933,207,83]";
double vx = xa;
double vy = xb;
double v;
spline2dinterpolant s;

spline2dbuildbicubicv(x, 15, y, 15, f, 1, s);

v = spline2dcalc(s, vx, vy);
return v;
}